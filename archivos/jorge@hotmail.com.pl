:-dynamic persona/8.
%-------------------------------Tipos de Alimentos---------------------------

tipoalimento(lacteos).
tipoalimento(huevos).
tipoalimento(azucares).
tipoalimento(aceites).
tipoalimento(verduras).
tipoalimento(legumbres).
tipoalimento(frutas).
tipoalimento(alcohol).
tipoalimento(sinalcohol).
tipoalimento(condimentos).
tipoalimento(cereales).
tipoalimento(carnesrojas).
tipoalimento(carnesblancas).
tipoalimento(mariscos).

%----------------------------------Alimentos------------------------------------
%-----------------------------------Lacteos-------------------------------------

alimento(lacteos,'Leche concentrada').
alimento(lacteos,'Leche condensada').
alimento(lacteos,'Leche de cabra').
alimento(lacteos,'Leche desnatada').
alimento(lacteos,'Leche entera').
alimento(lacteos,'Leche semidesnatada').
alimento(lacteos,'Leche en polvo').
alimento(lacteos,'Queso cheddar').
alimento(lacteos,'Queso Gouda').
alimento(lacteos,'Queso Parmesano').
alimento(lacteos,'Queso Roquefort').
alimento(lacteos,'Queso Azul').
alimento(lacteos,'Queso de cabra').
alimento(lacteos,'Queso Gallego').
alimento(lacteos,'Queso morzzarella').
alimento(lacteos,'Queso para untar').
alimento(lacteos,'Queso Rallado').
alimento(lacteos,'Yogur desnatado con fruta').
alimento(lacteos,'Yogur de sabores').
alimento(lacteos,'Yogur entero').
alimento(lacteos,'Yogur entero de sabaroes').
alimento(lacteos,'Yogur entero natural').
alimento(lacteos,'Yogur griego').

%---------------------------------Huevos----------------------------------

alimento(huevos,'Clara de huevo').
alimento(huevos,'Cuajada').
alimento(huevos,'Huevo de codorniz').
alimento(huevos,'Huevo de gallina').
alimento(huevos,'Huevo de pato').
alimento(huevos,'Yema de huevo').

%---------------------------------Azucares----------------------------------

alimento(azucares,'Azucar blanco').
alimento(azucares,'Azucar moreno').
alimento(azucares,'Bombones').
alimento(azucares,'Cacao en polvo azucarado (2,5% grasa)').
alimento(azucares,'Cacao en polvo azucarado (8% grasa)').
alimento(azucares,'Caramelos').
alimento(azucares,'Chicle con azucar').
alimento(azucares,'Chicle sin azucar').
alimento(azucares,'Chocolate').
alimento(azucares,'Chocolate blanco').
alimento(azucares,'Chocolate con leche').
alimento(azucares,'Chocolate con leche y almendra').
alimento(azucares,'Chocolate en polvo').
alimento(azucares,'Chocolate negro').
alimento(azucares,'Confitura baja en calorias').
alimento(azucares,'Crema de cacao y avellanas').
alimento(azucares,'Jaleas').
alimento(azucares,'Mazapan').
alimento(azucares,'Membrillo, dulce de (pasta de frutas)').
alimento(azucares,'Mermelada').
alimento(azucares,'Mermelada baja en calorias').
alimento(azucares,'Miel').
alimento(azucares,'Petit-suise natural azucarado').
alimento(azucares,'Polo (helado de hielo)').

%---------------------------------Aceites----------------------------------

alimento(aceites,'Aceite de cacahuete').
alimento(aceites,'Aceite de coco').
alimento(aceites,'Aceite de girasol').
alimento(aceites,'Aceite de maiz').
alimento(aceites,'Aceite de oliva').
alimento(aceites,'Aceite de palma').
alimento(aceites,'Aceite de soja').
alimento(aceites,'Manteca de cerdo').
alimento(aceites,'Mantequilla').
alimento(aceites,'Mantequilla salada').
alimento(aceites,'Margarina').
alimento(aceites,'Margarina baja en calorias').
alimento(aceites,'Tocino').
alimento(aceites,'Aceite regular').

%---------------------------------Verduras----------------------------------

alimento(verduras,'Acelgas congeladas').
alimento(verduras,'Acelgas frescas').
alimento(verduras,'Ajo').
alimento(verduras,'Alcachofas congeladas').
alimento(verduras,'Alcachofas en conserva').
alimento(verduras,'Alcachofas frescas').
alimento(verduras,'Algas kombu desecadas').
alimento(verduras,'Algas musgo de Irlanda').
alimento(verduras,'Algas nori desecadas').
alimento(verduras,'Algas wakame desecadas').
alimento(verduras,'Algas wakame frescas').
alimento(verduras,'Apio').
alimento(verduras,'Batata').
alimento(verduras,'Berenjena').
alimento(verduras,'Berros').
alimento(verduras,'Boniato').
alimento(verduras,'Borraja').
alimento(verduras,'Brecol').
alimento(verduras,'Calabacin').
alimento(verduras,'Calabaza').
alimento(verduras,'Canonigos').
alimento(verduras,'Cardo').
alimento(verduras,'Cardo en conserva').
alimento(verduras,'Cebolla').
alimento(verduras,'Cebolleta').
alimento(verduras,'Cebollino').
alimento(verduras,'Champinon').
alimento(verduras,'Chucrut en conserva').
alimento(verduras,'Col China').
alimento(verduras,'Col rizada').
alimento(verduras,'Coles').
alimento(verduras,'Coles de Bruselas').
alimento(verduras,'Coles de Bruselas congeladas').
alimento(verduras,'Coliflor').
alimento(verduras,'Coliflor congelada').
alimento(verduras,'Endibia').
alimento(verduras,'Escarola').
alimento(verduras,'Espinacas').
alimento(verduras,'Espinacas congeladas').
alimento(verduras,'Espinacas en conserva').
alimento(verduras,'Esparrago').
alimento(verduras,'Esparrago en conserva').
alimento(verduras,'Grelos').
alimento(verduras,'Judias verdes').
alimento(verduras,'Judias verdes congeladas').
alimento(verduras,'Lechuga').
alimento(verduras,'Lechuga tipo iceberg').
alimento(verduras,'Lechuga, cogollos').
alimento(verduras,'Lombarda').
alimento(verduras,'Menestra congelada').
alimento(verduras,'Nabizas').
alimento(verduras,'Nabo').
alimento(verduras,'Niscalo').
alimento(verduras,'Palmito en conserva').
alimento(verduras,'Patata').
alimento(verduras,'Patata nueva (mayo a septiembre)').
alimento(verduras,'Patata vieja (febrero a junio)').
alimento(verduras,'Pepino').
alimento(verduras,'Pimiento morron').
alimento(verduras,'Pimiento rojo').
alimento(verduras,'Pimiento verde').
alimento(verduras,'Puerro').
alimento(verduras,'Puerro en conserva').
alimento(verduras,'Pure de patata en escamas sin reconstituir').
alimento(verduras,'Pure de patata reconstituido con agua').
alimento(verduras,'Pure de patata reconstituido con leche').
alimento(verduras,'Remolacha').
alimento(verduras,'Repollo').
alimento(verduras,'Rabano').
alimento(verduras,'Setas').
alimento(verduras,'Tapioca (harina)').
alimento(verduras,'Tomate').
alimento(verduras,'Tomate al natural enlatado').
alimento(verduras,'Yuca o Mandioca').
alimento(verduras,'Zanahoria').
alimento(verduras,'Zanahoria en conserva').
alimento(verduras,'Remolacha en conserva').
alimento(verduras,'Champinon en conserva').

%---------------------------------Legumbres----------------------------------

alimento(legumbres,'Alubias').
alimento(legumbres,'Frijol negro').
alimento(legumbres,'Frijol rojo').
alimento(legumbres,'Garbanzos').
alimento(legumbres,'Guisantes congelados').
alimento(legumbres,'Guisantes desgranados').
alimento(legumbres,'Guisantes secos').
alimento(legumbres,'Guisantes verdes frescos, con vaina').
alimento(legumbres,'Habas con vaina').
alimento(legumbres,'Habas desgranadas').
alimento(legumbres,'Habas secas').
alimento(legumbres,'Harina de soja').
alimento(legumbres,'Judias blancas (en conserva)').
alimento(legumbres,'Judias blancas, judias pintas').
alimento(legumbres,'Soja, brotes (en conserva)').

%---------------------------------Frutas----------------------------------

alimento(frutas,'Aguacate').
alimento(frutas,'Albaricoque').
alimento(frutas,'Albaricoque desecado (orejones)').
alimento(frutas,'Almendra sin cascara').
alimento(frutas,'Anacardo sin cascara').
alimento(frutas,'Arandano').
alimento(frutas,'Avellana sin cascara').
alimento(frutas,'Cacahuete sin cascara').
alimento(frutas,'Cacahuete tostado y salado, sin cascara').
alimento(frutas,'Cacahuete, crema').
alimento(frutas,'Caqui').
alimento(frutas,'Castana').
alimento(frutas,'Cerezas, guindas').
alimento(frutas,'Chirimoya').
alimento(frutas,'Chufa').
alimento(frutas,'Ciruela').
alimento(frutas,'Ciruela seca con ,,0).hueso').
alimento(frutas,'Coco fresco').
alimento(frutas,'Coco rallado').
alimento(frutas,'Datil seco con hueso').
alimento(frutas,'Datil seco sin hueso').
alimento(frutas,'Frambuesa').
alimento(frutas,'Fresa').
alimento(frutas,'Frutos secos, mezcla').
alimento(frutas,'Granada').
alimento(frutas,'Grosella negra').
alimento(frutas,'Grosella roja').
alimento(frutas,'Guayaba').
alimento(frutas,'Higos secos').
alimento(frutas,'Higos, brevas').
alimento(frutas,'Kiwi').
alimento(frutas,'Lichi, sin cascara').
alimento(frutas,'Lima').
alimento(frutas,'Limon').
alimento(frutas,'Macedonia de frutas en almibar').
alimento(frutas,'Macedonia de frutas en su jugo').
alimento(frutas,'Mandarina').
alimento(frutas,'Mango').
alimento(frutas,'Manzana').
alimento(frutas,'Maracuya').
alimento(frutas,'Melocoton').
alimento(frutas,'Melocoton en almibar').
alimento(frutas,'Melon').
alimento(frutas,'Membrillo').
alimento(frutas,'Mora').
alimento(frutas,'Naranja').
alimento(frutas,'Nectarina').
alimento(frutas,'Nueces con cascara').
alimento(frutas,'Nueces de macadamia sin cascara').
alimento(frutas,'Nueces sin cascara').
alimento(frutas,'Nispero').
alimento(frutas,'Papaya').
alimento(frutas,'Pasas').
alimento(frutas,'Pera').
alimento(frutas,'Pera en almibar').
alimento(frutas,'Picotas').
alimento(frutas,'Pipas de girasol con cascara').
alimento(frutas,'Pipas de girasol sin cascara').
alimento(frutas,'Pistacho con cascara').
alimento(frutas,'Pina').
alimento(frutas,'Pina en almibar').
alimento(frutas,'Pina enlatada en su jugo').
alimento(frutas,'Planes sin cascara').
alimento(frutas,'Platano').
alimento(frutas,'Pomelo').
alimento(frutas,'Sandia').
alimento(frutas,'Setas').
alimento(frutas,'Sesamo, semilla de ajonjoli').
alimento(frutas,'Tamarindo, pulpa').
alimento(frutas,'Tapioca (harina)').
alimento(frutas,'Uvas blancas').
alimento(frutas,'Uvas negras').
alimento(frutas,'Yuca o Mandioca').

%---------------------------------Cereales----------------------------------

alimento(cereales,'Arros blaco').
alimento(cereales,'Arros integral').
alimento(cereales,'Avena').
alimento(cereales,'Galletas').
alimento(cereales,'Harina').
alimento(cereales,'Harina de maiz').
alimento(cereales,'Harina integral').
alimento(cereales,'Maiz').
alimento(cereales,'Pan blanco').
alimento(cereales,'Pan blanco de trigo').
alimento(cereales,'Pan integral').
alimento(cereales,'Pan integral de trigo').
alimento(cereales,'Semola de trigo').
alimento(cereales,'Lasana(Pasta)').
alimento(cereales,'Macarrones').
alimento(cereales,'Maiz desgranado').
alimento(cereales,'Harina de trigo blanca').
alimento(cereales,'Espaguetis').

%---------------------------------Bebidas Alcoholicas----------------------------------

alimento(alcohol,'Aguardientes').
alimento(alcohol,'Anises').
alimento(alcohol,'Cava').
alimento(alcohol,'Cerveza').
alimento(alcohol,'Cerveza baja en alcohol').
alimento(alcohol,'Champan').
alimento(alcohol,'Conc').
alimento(alcohol,'Ginebra').
alimento(alcohol,'Licores').
alimento(alcohol,'Ron').
alimento(alcohol,'Sangria').
alimento(alcohol,'Sidra').
alimento(alcohol,'Tequila').
alimento(alcohol,'Vermut').
alimento(alcohol,'Vino de mesa (tinto, blanco, rosado)').
alimento(alcohol,'Vino dulce (Malaga, Oporto, etc.)').
alimento(alcohol,'Vino fino (Jerez, manzanilla, etc.)').
alimento(alcohol,'Vodka').
alimento(alcohol,'Whisky').

%---------------------------------Bebidas sin Alcohol----------------------------------

alimento(sinalcohol,'Agua').
alimento(sinalcohol,'Cafe soluble en polvo').
alimento(sinalcohol,'Cafe, infusion').
alimento(sinalcohol,'Cerveza sin alcohol').
alimento(sinalcohol,'Gaseosa').
alimento(sinalcohol,'Gaseosa sin calorias').
alimento(sinalcohol,'Horchata de chufa').
alimento(sinalcohol,'Refrescos').
alimento(sinalcohol,'Refrescos de cola').
alimento(sinalcohol,'Refrescos de cola sin calorias').
alimento(sinalcohol,'Refrescos sin calorias').
alimento(sinalcohol,'Sorbete de limon').
alimento(sinalcohol,'Te').
alimento(sinalcohol,'Tonica').
alimento(sinalcohol,'Zumo de citricos').
alimento(sinalcohol,'Zumo de frutas no citricas').
alimento(sinalcohol,'Zumo de limon').
alimento(sinalcohol,'Zumo de manzana').
alimento(sinalcohol,'Zumo de melocoton').
alimento(sinalcohol,'Zumo de naranja').
alimento(sinalcohol,'Zumo de naranja natural').
alimento(sinalcohol,'Zumo de pina').
alimento(sinalcohol,'Zumo de pomelo').
alimento(sinalcohol,'Zumo de tomate').
alimento(sinalcohol,'Zumo de uva').
alimento(sinalcohol,'Zumo de zanahoria').

%---------------------------------Condimentos----------------------------------

alimento(condimentos,'Albahaca fresca').
alimento(condimentos,'Albahaca seca').
alimento(condimentos,'Alcaparras').
alimento(condimentos,'Alioli').
alimento(condimentos,'Azafran').
alimento(condimentos,'Caldo en cubitos').
alimento(condimentos,'Canela molida').
alimento(condimentos,'Chile jalapeÃ±o').
alimento(condimentos,'Chile picante').
alimento(condimentos,'Cilantro fresco').
alimento(condimentos,'Clavo').
alimento(condimentos,'Comino').
alimento(condimentos,'Curry').
alimento(condimentos,'Eneldo, seco').
alimento(condimentos,'Gelatina').
alimento(condimentos,'Guindilla en polvo').
alimento(condimentos,'Hinojo fresco').
alimento(condimentos,'Huevas frescas').
alimento(condimentos,'Jengibre en polvo').
alimento(condimentos,'Jengibre fresco').
alimento(condimentos,'Ketchup').
alimento(condimentos,'Laurel').
alimento(condimentos,'Mayonesa comercial').
alimento(condimentos,'Mayonesa comercial baja en calorias').
alimento(condimentos,'Mostaza').
alimento(condimentos,'Nuez moscada').
alimento(condimentos,'Oregano fresco').
alimento(condimentos,'Oregano seco').
alimento(condimentos,'Perejil, fresco').
alimento(condimentos,'Pimienta blanca').
alimento(condimentos,'Pimienta negra').
alimento(condimentos,'Romero seco').
alimento(condimentos,'Sal fina de mesa').
alimento(condimentos,'Sal yodada de mesa').
alimento(condimentos,'Salsa agridulce').
alimento(condimentos,'Salsa barbacoa').
alimento(condimentos,'Salsa carbonara').
alimento(condimentos,'Salsa de soja').
alimento(condimentos,'Salsa holandesa').
alimento(condimentos,'Salsa vinagreta').
alimento(condimentos,'Tomate frito').
alimento(condimentos,'Tomillo').
alimento(condimentos,'Vainilla, extracto').
alimento(condimentos,'Vinagre').
alimento(condimentos,'Picante').

%---------------------------------Carnes Rojas----------------------------------

alimento(carnesrojas,'Bacon').
alimento(carnesrojas,'Buey, solomillo').
alimento(carnesrojas,'Butifarra').
alimento(carnesrojas,'Caballo, carne de').
alimento(carnesrojas,'Cabeza de jabali').
alimento(carnesrojas,'Cabrito').
alimento(carnesrojas,'Callos de ternera').
alimento(carnesrojas,'Carne picada').
alimento(carnesrojas,'Cerdo, cabeza').
alimento(carnesrojas,'Cerdo, carne magra').
alimento(carnesrojas,'Cerdo, carne semigrasa').
alimento(carnesrojas,'Cerdo, chuleta').
alimento(carnesrojas,'Cerdo, lomo').
alimento(carnesrojas,'Cerdo, paletilla').
alimento(carnesrojas,'Chicharrones').
alimento(carnesrojas,'Chorizo (21% grasa)').
alimento(carnesrojas,'Chorizo (32% grasa)').
alimento(carnesrojas,'Choped').
alimento(carnesrojas,'Cordero, chuleta').
alimento(carnesrojas,'Cordero, otras piezas').
alimento(carnesrojas,'Cordero, pierna y paletilla').
alimento(carnesrojas,'Higado de cerdo').
alimento(carnesrojas,'Higado de ternera').
alimento(carnesrojas,'Jabali­, carne de').
alimento(carnesrojas,'Jamon cocido (York, dulce, etc.)').
alimento(carnesrojas,'Jamon iberico').
alimento(carnesrojas,'Jamon serrano').
alimento(carnesrojas,'Jamon serrano magro').
alimento(carnesrojas,'Lacon').
alimento(carnesrojas,'Lengua de ternera').
alimento(carnesrojas,'Lomo embuchado').
alimento(carnesrojas,'Mollejas de cordero').
alimento(carnesrojas,'Morcilla').
alimento(carnesrojas,'Rinones').
alimento(carnesrojas,'Salami').
alimento(carnesrojas,'Salchichas frescas').
alimento(carnesrojas,'Salchichon').
alimento(carnesrojas,'Sangre de cerdo').
alimento(carnesrojas,'Sesos de cordero').
alimento(carnesrojas,'Sobrasada').
alimento(carnesrojas,'Ternera, carne magra').
alimento(carnesrojas,'Ternera, carne semigrasa').
alimento(carnesrojas,'Ternera, chuleta').

%---------------------------------Carnes Blancas----------------------------------

alimento(carnesblancas,'Gallina').
alimento(carnesblancas,'Pato').
alimento(carnesblancas,'Pavo, deshuesado, sin piel').
alimento(carnesblancas,'Pavo, pechuga').
alimento(carnesblancas,'Perdiz').
alimento(carnesblancas,'Pollo').
alimento(carnesblancas,'Pollo, pechuga').
alimento(carnesblancas,'Codorniz').
alimento(carnesblancas,'Conejo, liebre').
alimento(carnesblancas,'Abadejo').
alimento(carnesblancas,'Anchoa').
alimento(carnesblancas,'Anguila').
alimento(carnesblancas,'Angula').
alimento(carnesblancas,'Arenque').
alimento(carnesblancas,'Atun').
alimento(carnesblancas,'Bacaladilla').
alimento(carnesblancas,'Bacalao fresco').
alimento(carnesblancas,'Bacalao salado remojado').
alimento(carnesblancas,'Besugo').
alimento(carnesblancas,'Bonito').
alimento(carnesblancas,'Boqueron').
alimento(carnesblancas,'Breca').
alimento(carnesblancas,'Caballa').
alimento(carnesblancas,'Cabracho').
alimento(carnesblancas,'Calamar y similares').
alimento(carnesblancas,'Cangrejos y similares').
alimento(carnesblancas,'Caracoles').
alimento(carnesblancas,'Caviar').
alimento(carnesblancas,'Chirlas').
alimento(carnesblancas,'Congrio').
alimento(carnesblancas,'Dorada').
alimento(carnesblancas,'Emperadr').
alimento(carnesblancas,'Faneca').
alimento(carnesblancas,'Gallo').
alimento(carnesblancas,'Gamba').
alimento(carnesblancas,'Gulas').
alimento(carnesblancas,'Huevas frescas').
alimento(carnesblancas,'Japuta').
alimento(carnesblancas,'Jurel o chicharro').
alimento(carnesblancas,'Lenguado').
alimento(carnesblancas,'Lenguado en filetes').
alimento(carnesblancas,'Lubina').
alimento(carnesblancas,'Merluza').
alimento(carnesblancas,'Mero').
alimento(carnesblancas,'Mujol, pardete').
alimento(carnesblancas,'Palometa').
alimento(carnesblancas,'Pescadilla').
alimento(carnesblancas,'Pez espada').
alimento(carnesblancas,'Rape').
alimento(carnesblancas,'Raya').
alimento(carnesblancas,'Reo').
alimento(carnesblancas,'Rodaballo').
alimento(carnesblancas,'Salmonete').
alimento(carnesblancas,'Salmon').
alimento(carnesblancas,'Salmon ahumado').
alimento(carnesblancas,'Sardinas').
alimento(carnesblancas,'Trucha').
alimento(carnesblancas,'Bonito en escabeche').
alimento(carnesblancas,'Atun en escabeche').
alimento(carnesblancas,'Bonito en aceite').
alimento(carnesblancas,'Atun en aceite').
alimento(carnesblancas,'Anchoas en aceite').
alimento(carnesblancas,'Sargo').

%---------------------------------Mariscos----------------------------------

alimento(mariscos,'Almejas').
alimento(mariscos,'Berberechos').
alimento(mariscos,'Bogavante').
alimento(mariscos,'Centollo').
alimento(mariscos,'Cigalas').
alimento(mariscos,'Langosta').
alimento(mariscos,'Langostino').
alimento(mariscos,'Mejillon').
alimento(mariscos,'Necoras y similares').
alimento(mariscos,'Ostras').
alimento(mariscos,'Percebe').
alimento(mariscos,'Pulpo').
alimento(mariscos,'Camarones').
alimento(mariscos,'Sepia').
alimento(mariscos,'Vieira').
%----------------------------Validacion-----------------------------------

verificar(Correo,Contrasena):- persona(_,_,_,Correo,_,_,Contrasena), write('true'), !.

%----------------------------Mensaje bienvenida------------------------------

bienvenida(Correo):- persona(_,N,_,A,_,_,_,_,_,Correo), write(N), write(' '), write(A), !.

%---------------------------------Perfiles----------------------------------
%Datos personales
%Nombre
%Segundo Nombre
%Apellido
%Cedula
%Sexo
%Fecha de nacimiento
%Peso
%Estatura

%Cantidad de personas en la familia
%Alergico a algun alimento espesifico
%Problemas al azucar
%Tipo de carne que gusta
%Tipo de bebida que gusta
%Tiempo con que realiza la compra

%Registrar la ultima compra realizada por el usiario con sus cantidades.
persona('jorge', 'enmanuel', 'díaz', 'M', '1965-05-19', 'jorge@hotmail.com','jorge').

esdiabetico('').

esalergico('jorge@hotmail.com','Pan integral').
esalergico('jorge@hotmail.com','Canela molida').
esalergico('jorge@hotmail.com','Leche desnatada').
esalergico('jorge@hotmail.com','Cacahuete, crema').
esalergico('jorge@hotmail.com','Leche desnatada').
esalergico('jorge@hotmail.com','Soja, brotes (en conserva)').
esalergico('jorge@hotmail.com','Harina de maiz').
esalergico('jorge@hotmail.com','Alcachofas congeladas').
esalergico('jorge@hotmail.com','Aceite de cacahuete').
esalergico('jorge@hotmail.com','Cacao en polvo azucarado (2,5% grasa)').
esalergico('jorge@hotmail.com','Pato').
esalergico('jorge@hotmail.com','Caballo, carne de').
esalergico('jorge@hotmail.com','Albahaca fresca').
esalergico('jorge@hotmail.com','Ginebra').
esalergico('jorge@hotmail.com','Sangria').
esalergico('jorge@hotmail.com','Clara de huevo').
esalergico('jorge@hotmail.com','Caqui').
esalergico('jorge@hotmail.com','Tonica').
esalergico('jorge@hotmail.com','Vieira').
esalergico('jorge@hotmail.com','Aceite de palma').
esalergico('jorge@hotmail.com','Alioli').


alcoholocasional('jorge@hotmail.com','Cerveza').
alcoholocasional('jorge@hotmail.com','Champan').
alcoholocasional('jorge@hotmail.com','Licores').
alcoholocasional('jorge@hotmail.com','Ron').
alcoholocasional('jorge@hotmail.com','Tequila').
alcoholocasional('jorge@hotmail.com','Vodka').
alcoholocasional('jorge@hotmail.com','Whisky').
alcoholocasional('jorge@hotmail.com','Vino fino (Jerez, manzanilla, etc.)').


alcoholcasinocome('jorge@hotmail.com','Cerveza').
alcoholcasinocome('jorge@hotmail.com','Champan').
alcoholcasinocome('jorge@hotmail.com','Licores').
alcoholcasinocome('jorge@hotmail.com','Ron').
alcoholcasinocome('jorge@hotmail.com','Tequila').
alcoholcasinocome('jorge@hotmail.com','Vodka').
alcoholcasinocome('jorge@hotmail.com','Whisky').
alcoholcasinocome('jorge@hotmail.com','Vino fino (Jerez, manzanilla, etc.)').


carnesblancascasinocome('jorge@hotmail.com','Pavo, pechuga').
carnesblancascasinocome('jorge@hotmail.com','Pollo').
carnesblancascasinocome('jorge@hotmail.com','Pollo, pechuga').
carnesblancascasinocome('jorge@hotmail.com','Merluza').
carnesblancascasinocome('jorge@hotmail.com','Mero').
carnesblancascasinocome('jorge@hotmail.com','Atun en aceite').
carnesblancascasinocome('jorge@hotmail.com','Conejo, liebre').
carnesblancascasinocome('jorge@hotmail.com','Anchoa').
carnesblancascasinocome('jorge@hotmail.com','Anguila').
carnesblancascasinocome('jorge@hotmail.com','Caballa').
carnesblancascasinocome('jorge@hotmail.com','Calamar y similares').


carnesblancasocasional('jorge@hotmail.com','Pavo, pechuga').
carnesblancasocasional('jorge@hotmail.com','Pollo').
carnesblancasocasional('jorge@hotmail.com','Pollo, pechuga').
carnesblancasocasional('jorge@hotmail.com','Merluza').
carnesblancasocasional('jorge@hotmail.com','Mero').
carnesblancasocasional('jorge@hotmail.com','Atun en aceite').
carnesblancasocasional('jorge@hotmail.com','Conejo, liebre').
carnesblancasocasional('jorge@hotmail.com','Anchoa').
carnesblancasocasional('jorge@hotmail.com','Anguila').
carnesblancasocasional('jorge@hotmail.com','Caballa').
carnesblancasocasional('jorge@hotmail.com','Calamar y similares').


aceitesocasional('jorge@hotmail.com','Aceite de girasol').
aceitesocasional('jorge@hotmail.com','Aceite de maiz').
aceitesocasional('jorge@hotmail.com','Aceite de oliva').
aceitesocasional('jorge@hotmail.com','Mantequilla').
aceitesocasional('jorge@hotmail.com','Tocino').
aceitesocasional('jorge@hotmail.com','Aceite regular').
aceitesocasional('jorge@hotmail.com','Aceite de cacahuete').
aceitesocasional('jorge@hotmail.com','Manteca de cerdo').
aceitesocasional('jorge@hotmail.com','Mantequilla salada').


aceitescasinocome('jorge@hotmail.com','Aceite de girasol').
aceitescasinocome('jorge@hotmail.com','Aceite de maiz').
aceitescasinocome('jorge@hotmail.com','Aceite de oliva').
aceitescasinocome('jorge@hotmail.com','Mantequilla').
aceitescasinocome('jorge@hotmail.com','Tocino').
aceitescasinocome('jorge@hotmail.com','Aceite regular').
aceitescasinocome('jorge@hotmail.com','Aceite de cacahuete').
aceitescasinocome('jorge@hotmail.com','Manteca de cerdo').
aceitescasinocome('jorge@hotmail.com','Mantequilla salada').


condimentosocasional('jorge@hotmail.com','Albahaca fresca').
condimentosocasional('jorge@hotmail.com','Ketchup').
condimentosocasional('jorge@hotmail.com','Oregano fresco').
condimentosocasional('jorge@hotmail.com','Pimienta blanca').
condimentosocasional('jorge@hotmail.com','Vainilla, extracto').
condimentosocasional('jorge@hotmail.com','Vinagre').
condimentosocasional('jorge@hotmail.com','Picante').
condimentosocasional('jorge@hotmail.com','Salsa agridulce').
condimentosocasional('jorge@hotmail.com','Salsa barbacoa').
condimentosocasional('jorge@hotmail.com','Salsa de soja').
condimentosocasional('jorge@hotmail.com','Salsa holandesa').


condimentoscasinocome('jorge@hotmail.com','Albahaca fresca').
condimentoscasinocome('jorge@hotmail.com','Ketchup').
condimentoscasinocome('jorge@hotmail.com','Oregano fresco').
condimentoscasinocome('jorge@hotmail.com','Pimienta blanca').
condimentoscasinocome('jorge@hotmail.com','Vainilla, extracto').
condimentoscasinocome('jorge@hotmail.com','Vinagre').
condimentoscasinocome('jorge@hotmail.com','Picante').
condimentoscasinocome('jorge@hotmail.com','Salsa agridulce').
condimentoscasinocome('jorge@hotmail.com','Salsa barbacoa').
condimentoscasinocome('jorge@hotmail.com','Salsa de soja').
condimentoscasinocome('jorge@hotmail.com','Salsa holandesa').


frutasocasional('jorge@hotmail.com','Aguacate').
frutasocasional('jorge@hotmail.com','Cerezas, guindas').
frutasocasional('jorge@hotmail.com','Lima').
frutasocasional('jorge@hotmail.com','Limon').
frutasocasional('jorge@hotmail.com','Mango').
frutasocasional('jorge@hotmail.com','Platano').
frutasocasional('jorge@hotmail.com','Yuca o Mandioca').
frutasocasional('jorge@hotmail.com','Higos secos').
frutasocasional('jorge@hotmail.com','Lichi, sin cascara').
frutasocasional('jorge@hotmail.com','Macedonia de frutas en almibar').
frutasocasional('jorge@hotmail.com','Melocoton').


frutascasinocome('jorge@hotmail.com','Aguacate').
frutascasinocome('jorge@hotmail.com','Cerezas, guindas').
frutascasinocome('jorge@hotmail.com','Lima').
frutascasinocome('jorge@hotmail.com','Limon').
frutascasinocome('jorge@hotmail.com','Mango').
frutascasinocome('jorge@hotmail.com','Platano').
frutascasinocome('jorge@hotmail.com','Yuca o Mandioca').
frutascasinocome('jorge@hotmail.com','Higos secos').
frutascasinocome('jorge@hotmail.com','Lichi, sin cascara').
frutascasinocome('jorge@hotmail.com','Macedonia de frutas en almibar').
frutascasinocome('jorge@hotmail.com','Melocoton').


azucaresocasional('jorge@hotmail.com','Azucar blanco').
azucaresocasional('jorge@hotmail.com','Chocolate').
azucaresocasional('jorge@hotmail.com','Miel').
azucaresocasional('jorge@hotmail.com','Crema de cacao y avellanas').
azucaresocasional('jorge@hotmail.com','Membrillo, dulce de (pasta de frutas)').


azucarescasinocome('jorge@hotmail.com','Azucar blanco').
azucarescasinocome('jorge@hotmail.com','Chocolate').
azucarescasinocome('jorge@hotmail.com','Miel').
azucarescasinocome('jorge@hotmail.com','Crema de cacao y avellanas').
azucarescasinocome('jorge@hotmail.com','Membrillo, dulce de (pasta de frutas)').


cerealesocasional('jorge@hotmail.com','Arros blaco').
cerealesocasional('jorge@hotmail.com','Avena').
cerealesocasional('jorge@hotmail.com','Harina de maiz').
cerealesocasional('jorge@hotmail.com','Maiz').
cerealesocasional('jorge@hotmail.com','Pan blanco').
cerealesocasional('jorge@hotmail.com','Espaguetis').
cerealesocasional('jorge@hotmail.com','Pan integral').
cerealesocasional('jorge@hotmail.com','Pan integral de trigo').


cerealescasinocome('jorge@hotmail.com','Arros blaco').
cerealescasinocome('jorge@hotmail.com','Avena').
cerealescasinocome('jorge@hotmail.com','Harina de maiz').
cerealescasinocome('jorge@hotmail.com','Maiz').
cerealescasinocome('jorge@hotmail.com','Pan blanco').
cerealescasinocome('jorge@hotmail.com','Espaguetis').
cerealescasinocome('jorge@hotmail.com','Pan integral').
cerealescasinocome('jorge@hotmail.com','Pan integral de trigo').


mariscosocasional('jorge@hotmail.com','Camarones').
mariscosocasional('jorge@hotmail.com','Ostras').


mariscoscasinocome('jorge@hotmail.com','Camarones').
mariscoscasinocome('jorge@hotmail.com','Ostras').


legumbresocasional('jorge@hotmail.com','Frijol negro').
legumbresocasional('jorge@hotmail.com','Garbanzos').
legumbresocasional('jorge@hotmail.com','Guisantes congelados').
legumbresocasional('jorge@hotmail.com','Guisantes secos').


legumbrescasinocome('jorge@hotmail.com','Frijol negro').
legumbrescasinocome('jorge@hotmail.com','Garbanzos').
legumbrescasinocome('jorge@hotmail.com','Guisantes congelados').
legumbrescasinocome('jorge@hotmail.com','Guisantes secos').


verdurasocasional('jorge@hotmail.com','Berenjena').
verdurasocasional('jorge@hotmail.com','Cebolla').
verdurasocasional('jorge@hotmail.com','Lechuga').
verdurasocasional('jorge@hotmail.com','Patata').
verdurasocasional('jorge@hotmail.com','Repollo').
verdurasocasional('jorge@hotmail.com','Tomate').
verdurasocasional('jorge@hotmail.com','Yuca o Mandioca').
verdurasocasional('jorge@hotmail.com','Zanahoria').
verdurasocasional('jorge@hotmail.com','Borraja').
verdurasocasional('jorge@hotmail.com','Calabaza').
verdurasocasional('jorge@hotmail.com','Cardo en conserva').
verdurasocasional('jorge@hotmail.com','Cebollino').
verdurasocasional('jorge@hotmail.com','Col China').


verdurascasinocome('jorge@hotmail.com','Berenjena').
verdurascasinocome('jorge@hotmail.com','Cebolla').
verdurascasinocome('jorge@hotmail.com','Lechuga').
verdurascasinocome('jorge@hotmail.com','Patata').
verdurascasinocome('jorge@hotmail.com','Repollo').
verdurascasinocome('jorge@hotmail.com','Tomate').
verdurascasinocome('jorge@hotmail.com','Yuca o Mandioca').
verdurascasinocome('jorge@hotmail.com','Zanahoria').
verdurascasinocome('jorge@hotmail.com','Borraja').
verdurascasinocome('jorge@hotmail.com','Calabaza').
verdurascasinocome('jorge@hotmail.com','Cardo en conserva').
verdurascasinocome('jorge@hotmail.com','Cebollino').
verdurascasinocome('jorge@hotmail.com','Col China').


sinalcoholocasional('jorge@hotmail.com','Cafe soluble en polvo').
sinalcoholocasional('jorge@hotmail.com','Gaseosa').
sinalcoholocasional('jorge@hotmail.com','Refrescos').
sinalcoholocasional('jorge@hotmail.com','Te').
sinalcoholocasional('jorge@hotmail.com','Zumo de naranja').
sinalcoholocasional('jorge@hotmail.com','Zumo de uva').
sinalcoholocasional('jorge@hotmail.com','Tonica').
sinalcoholocasional('jorge@hotmail.com','Zumo de zanahoria').


sinalcoholcasinocome('jorge@hotmail.com','Cafe soluble en polvo').
sinalcoholcasinocome('jorge@hotmail.com','Gaseosa').
sinalcoholcasinocome('jorge@hotmail.com','Refrescos').
sinalcoholcasinocome('jorge@hotmail.com','Te').
sinalcoholcasinocome('jorge@hotmail.com','Zumo de naranja').
sinalcoholcasinocome('jorge@hotmail.com','Zumo de uva').
sinalcoholcasinocome('jorge@hotmail.com','Tonica').
sinalcoholcasinocome('jorge@hotmail.com','Zumo de zanahoria').


lacteosocasional('jorge@hotmail.com','Leche condensada').
lacteosocasional('jorge@hotmail.com','Leche entera').
lacteosocasional('jorge@hotmail.com','Queso Parmesano').
lacteosocasional('jorge@hotmail.com','Queso morzzarella').
lacteosocasional('jorge@hotmail.com','Yogur entero natural').
lacteosocasional('jorge@hotmail.com','Leche desnatada').
lacteosocasional('jorge@hotmail.com','Queso cheddar').
lacteosocasional('jorge@hotmail.com','Queso Roquefort').
lacteosocasional('jorge@hotmail.com','Yogur griego').


lacteoscasinocome('jorge@hotmail.com','Leche condensada').
lacteoscasinocome('jorge@hotmail.com','Leche entera').
lacteoscasinocome('jorge@hotmail.com','Queso Parmesano').
lacteoscasinocome('jorge@hotmail.com','Queso morzzarella').
lacteoscasinocome('jorge@hotmail.com','Yogur entero natural').
lacteoscasinocome('jorge@hotmail.com','Leche desnatada').
lacteoscasinocome('jorge@hotmail.com','Queso cheddar').
lacteoscasinocome('jorge@hotmail.com','Queso Roquefort').
lacteoscasinocome('jorge@hotmail.com','Yogur griego').


huevosocasional('jorge@hotmail.com','Clara de huevo').
huevosocasional('jorge@hotmail.com','Huevo de gallina').
huevosocasional('jorge@hotmail.com','Yema de huevo').
huevosocasional('jorge@hotmail.com','Cuajada').
huevosocasional('jorge@hotmail.com','Huevo de codorniz').


huevoscasinocome('jorge@hotmail.com','Clara de huevo').
huevoscasinocome('jorge@hotmail.com','Huevo de gallina').
huevoscasinocome('jorge@hotmail.com','Yema de huevo').
huevoscasinocome('jorge@hotmail.com','Cuajada').
huevoscasinocome('jorge@hotmail.com','Huevo de codorniz').


carnesrojascasinocome('jorge@hotmail.com','Bacon').
carnesrojascasinocome('jorge@hotmail.com','Carne picada').
carnesrojascasinocome('jorge@hotmail.com','Cerdo, chuleta').
carnesrojascasinocome('jorge@hotmail.com','Cerdo, lomo').
carnesrojascasinocome('jorge@hotmail.com','Chicharrones').
carnesrojascasinocome('jorge@hotmail.com','Jamon cocido (York, dulce, etc.)').
carnesrojascasinocome('jorge@hotmail.com','Salami').
carnesrojascasinocome('jorge@hotmail.com','Caballo, carne de').
carnesrojascasinocome('jorge@hotmail.com','Cabeza de jabali').
carnesrojascasinocome('jorge@hotmail.com','Choped').
carnesrojascasinocome('jorge@hotmail.com','Cordero, pierna y paletilla').


carnesrojasocasional('jorge@hotmail.com','Bacon').
carnesrojasocasional('jorge@hotmail.com','Carne picada').
carnesrojasocasional('jorge@hotmail.com','Cerdo, chuleta').
carnesrojasocasional('jorge@hotmail.com','Cerdo, lomo').
carnesrojasocasional('jorge@hotmail.com','Chicharrones').
carnesrojasocasional('jorge@hotmail.com','Jamon cocido (York, dulce, etc.)').
carnesrojasocasional('jorge@hotmail.com','Salami').
carnesrojasocasional('jorge@hotmail.com','Caballo, carne de').
carnesrojasocasional('jorge@hotmail.com','Cabeza de jabali').
carnesrojasocasional('jorge@hotmail.com','Choped').
carnesrojasocasional('jorge@hotmail.com','Cordero, pierna y paletilla').


aceitesocasional('jorge@hotmail.com','Aceite de soja').
aceitesocasional('jorge@hotmail.com','Aceite regular').
aceitesocasional('jorge@hotmail.com','Aceite de girasol').
aceitesocasional('jorge@hotmail.com','Aceite de palma').


aceitescasinocome('jorge@hotmail.com','Aceite de soja').
aceitescasinocome('jorge@hotmail.com','Aceite regular').
aceitescasinocome('jorge@hotmail.com','Aceite de girasol').
aceitescasinocome('jorge@hotmail.com','Aceite de palma').


ultimacompra('jorge@hotmail.com','Aceite regular',2).


ultimacompra('jorge@hotmail.com','Cerveza',15).
ultimacompra('jorge@hotmail.com','Ron',4).
ultimacompra('jorge@hotmail.com','Sidra',1).
ultimacompra('jorge@hotmail.com','Tequila',2).
ultimacompra('jorge@hotmail.com','Vodka',5).
ultimacompra('jorge@hotmail.com','Whisky',3).


ultimacompra('jorge@hotmail.com','Azucar blanco',5).
ultimacompra('jorge@hotmail.com','Chocolate',6).


ultimacompra('jorge@hotmail.com','Pavo, pechuga',5).
ultimacompra('jorge@hotmail.com','Pollo',6).
ultimacompra('jorge@hotmail.com','Mero',10).


ultimacompra('jorge@hotmail.com','Cerdo, lomo',4).
ultimacompra('jorge@hotmail.com','Chicharrones',5).
ultimacompra('jorge@hotmail.com','Salami',6).


ultimacompra('jorge@hotmail.com','Arroz blaco',10).
ultimacompra('jorge@hotmail.com','Pan blanco',20).


ultimacompra('jorge@hotmail.com','Ketchup',2).
ultimacompra('jorge@hotmail.com','Vinagre',1).


ultimacompra('jorge@hotmail.com','Limon',12).
ultimacompra('jorge@hotmail.com','Mango',5).
ultimacompra('jorge@hotmail.com','Naranja',7).


ultimacompra('jorge@hotmail.com','Huevo de gallina',12).


ultimacompra('jorge@hotmail.com','Leche entera',6).


ultimacompra('jorge@hotmail.com','Refrescos',2).
ultimacompra('jorge@hotmail.com','Refrescos de cola',9).

recomendacion(ID,L) :- findall(R, toda_recomendacion(ID,R),L).

%toda_recomendacion(ID,L): retorna una lista de todas las recomendaciones para cada tipo de elemento.
toda_recomendacion(ID,L) :- findall(X,tipoalimento(X),R), buscadaelementos(R,T), recomendacionalimento(ID,L,T).

%retorna dentro de la lista elemento por elemento.
buscadaelementos([H|_], H).
buscadaelementos([_|T], H) :- buscadaelementos(T, H).

%retorna la recomendacion de cada tipo de alimento incluyendo los elementos de la compra anterior
recomendacionalimento(ID,L,T) :- ((T = azucares, esdiabetico(ID)) -> (L = [],!) ; (crearlista(ID,R,T), length(R,N), random_elementos(R,N,2,L1),
	(verificar(L1) -> rec2alimento(ID,L2,T); not(verificar(L1))-> true),(not(var(L2)) -> L3 = L2 ; L3 = L1), ralimento(ID,F,T), append(F,L3,L))).

%recomienda alimentos que estan en la ultima compra
ralimento(ID, L, T):- findall([Le,Cant],(ultimacompra(ID,Le,Cant), alimento(T, Le), not(esalergico(ID,Le)), (esdiabetico(ID) -> not(alimento(azucares,Le)) ; true)),L).

%recomienda los alimentos comidos ocasionalmente y casi no comidos.
rec2alimento(ID,L,T) :- crearlista(ID,R,T), length(R,N), random_elementos(R,N,2,L1),
	(verificar(L1) -> recomendacionalimento(ID,L2,T); not(verificar(L1))-> true),(not(var(L2)) -> L = L2 ; L = L1).

%crea la lista para agregar los alimentos ocasionalmente consumidos
crearlista(ID,R,T) :-  alimento_oc(ID,L,T), alimento_no(ID,L2,T), append(L,L2,R).
alimento_oc(ID,L,T) :- atom_concat(T,ocasional,R), findall(F,call(R,ID,F), L).
alimento_no(ID,L,T) :- atom_concat(T,casinocome,R), findall(F,call(R,ID,F), L).

%nth0: busca un elemento en especifico en un indice
%pone el valor en la posicion 0 de la lista L en Elem1
%pone el valor en la posicion 0 de la lista Elem1 en N
%pone el valor en la posicion 1 de la lista L en Elem2
%pone el valor de la posicion 0 de la lista Elem2 en N
%si los elementos en la N son iguales los cambia. (pasa,pasa)
verificar(L) :- nth0(0,L,Elem1),nth0(0,Elem1,N), nth0(1,L,Elem2),nth0(0,Elem2,N).

%
random_elementos(_, _, 0, []):-!.
random_elementos(L, N, C, Res) :- Ce is C-1, random_elementos(L,N,Ce,R), X is random(N), nth0(X,L,E), Cant is random(3), (Cant =:= 0 -> append([[E,1]],R,Res) ; append([[E,Cant]],R,Res)).

%
eliminarelemento(E, L, Res) :- indice(E,I), nth0(I,L,Lista),delete(Lista,[E,_],R), replace(Lista,R,L,Res),!.

%
agregarelemento(E,L,Res) :- indice(E,I), nth0(I,L,Lista),append(Lista,[[E,1]],R), replace(Lista,R,L,Res),!.

%
indice(X,I) :- findall(Y, tipoalimento(Y),R), alimento(T,X), nth0(I,R,T),!.

%
replace(_, _, [], []).
replace(O, R, [O|T], [R|T2]) :- replace(O, R, T, T2).
replace(O, R, [H|T], [H|T2]) :- H \= O, replace(O, R, T, T2).
